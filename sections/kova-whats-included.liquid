{{ 'kova-whats-included.css' | asset_url | stylesheet_tag }}

<div class="kova-included-section">
  <div class="page-width">
    <div class="kova-inc-card">
      <h2 class="kova-inc-heading">{{ section.settings.heading }}</h2>

      <div class="kova-inc-list">
        {% for block in section.blocks %}
          <div class="kova-inc-item" {{ block.shopify_attributes }}>
            <div class="kova-inc-item-left">
              {% if block.settings.icon != blank %}
                <span class="kova-inc-icon">{{ block.settings.icon }}</span>
              {% endif %}
              <span class="kova-inc-name">{{ block.settings.title }}</span>
            </div>
            <div class="kova-inc-item-right">
              {% if block.settings.original_price != blank %}
                <span class="kova-inc-original">{{ block.settings.original_price }}</span>
              {% endif %}
              <span class="kova-inc-final {% if block.settings.is_free %}kova-inc-free{% endif %}">
                {{ block.settings.final_price | default: 'FREE' }}
              </span>
            </div>
          </div>
        {% endfor %}
      </div>

      <div class="kova-inc-divider"></div>

      <div class="kova-inc-total">
        <span class="kova-inc-total-label">{{ section.settings.total_label | default: 'Subtotal' }}</span>
        <span class="kova-inc-total-price">{{ section.settings.total_price | default: '$397' }}</span>
      </div>

      {% if section.settings.cta_text != blank %}
        <a href="{{ section.settings.cta_link | default: '#' }}" class="kova-inc-cta button">
          {{ section.settings.cta_text }}
        </a>
      {% endif %}
    </div>
  </div>
</div>

{% schema %}
{
  "name": "K√ñVA What's Included",
  "tag": "section",
  "class": "kova-section",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "What's Included with Your K√ñVA Chair"
    },
    {
      "type": "text",
      "id": "total_label",
      "label": "Total Label",
      "default": "Subtotal"
    },
    {
      "type": "text",
      "id": "total_price",
      "label": "Total Price",
      "default": "$397"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "CTA Button Text",
      "default": "Shop Now"
    },
    {
      "type": "url",
      "id": "cta_link",
      "label": "CTA Button Link"
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "Included Item",
      "settings": [
        {
          "type": "text",
          "id": "icon",
          "label": "Icon (emoji)",
          "default": "ü™ë"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Item Name",
          "default": "K√ñVA Freedom Chair"
        },
        {
          "type": "text",
          "id": "original_price",
          "label": "Original Price (strikethrough)",
          "default": "$600"
        },
        {
          "type": "text",
          "id": "final_price",
          "label": "Final Price",
          "default": "$397"
        },
        {
          "type": "checkbox",
          "id": "is_free",
          "label": "Show as FREE",
          "default": false
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "K√ñVA What's Included",
      "blocks": [
        { "type": "item", "settings": { "icon": "ü™ë", "title": "K√ñVA Freedom Chair", "original_price": "$600", "final_price": "$397", "is_free": false } },
        { "type": "item", "settings": { "icon": "üì¶", "title": "Fast U.S. Shipping", "original_price": "$14", "final_price": "FREE", "is_free": true } },
        { "type": "item", "settings": { "icon": "üñ±Ô∏è", "title": "Mouse Pad", "original_price": "$23", "final_price": "FREE", "is_free": true } },
        { "type": "item", "settings": { "icon": "üî≤", "title": "Chair Mat", "original_price": "$49", "final_price": "FREE", "is_free": true } },
        { "type": "item", "settings": { "icon": "üõ°Ô∏è", "title": "3-Year Warranty", "original_price": "$29", "final_price": "FREE", "is_free": true } }
      ]
    }
  ]
}
{% endschema %}
